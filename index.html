<!doctype html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nudos (Offline)</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <h1>Nudos (Offline)</h1>

    <nav class="nav">
      <span id="timer-chip" class="badge doing" style="display:none; cursor:default;">â± 05:00</span>

      <button id="nav-today" class="btn">Hoy</button>
      <button id="nav-insights" class="btn">AnÃ¡lisis</button>

      <button id="btn-soft" class="btn">ğŸ›¡ï¸ Avanzar sin sufrir</button>
      <button id="btn-panic" class="btn">ğŸ§¨ No quiero pensar</button>

      <!-- NUEVO: toggle sliders mini -->
      <button id="btn-quick-toggle" class="btn">EdiciÃ³n rÃ¡pida: ON</button>

      <button id="btn-capture" class="btn btn-primary" disabled>Capturar nudo</button>
    </nav>
  </header>

  <main>
    <section id="section-today">
      <div class="marquee">
        <span>ğŸ‘‰ HOY: elegÃ­ 1 DESBLOQUEABLE Â· hacÃ© 5 minutos Â· cerrÃ¡ o pausÃ¡ Â· repetÃ­</span>
      </div>

      <h2>Hoy</h2>

      <div class="panel panel-doing">
        <div class="panel-head panel-head-doing">
          <div class="panel-head-left">
            <span class="panel-icon">ğŸš€</span>
            <h3 class="panel-title">EN PROGRESO</h3>
          </div>
          <div class="panel-head-right">
            <span class="panel-subtitle">1 a la vez</span>
          </div>
        </div>
        <div id="doing-container"></div>
      </div>

      <div class="panel panel-unlockable">
        <div class="panel-head panel-head-unlockable">
          <div class="panel-head-left">
            <span class="panel-icon">ğŸ”“</span>
            <h3 class="panel-title">DESBLOQUEABLES</h3>
          </div>
          <div class="panel-head-right">
            <span class="panel-subtitle">mÃ¡x 3</span>
          </div>
        </div>
        <div id="unlockable-container"></div>
      </div>

      <details id="backlog-details" class="panel panel-backlog" open>
        <summary>Backlog (BLOQUEADOS / ALGÃšN DÃA / HECHOS)</summary>

        <div class="panel-head panel-head-backlog" style="margin-top:10px;">
          <div class="panel-head-left">
            <span class="panel-icon">ğŸ—ƒï¸</span>
            <h3 class="panel-title">BACKLOG</h3>
          </div>
          <div class="panel-head-right">
            <span class="panel-subtitle">ordenÃ¡ para atacar mejor</span>
          </div>
        </div>

        <div class="row" style="margin:10px 0;">
          <button id="filter-friction" class="btn btn-primary small">Ordenar por fricciÃ³n</button>
          <button id="filter-impact" class="btn small">Ordenar por impacto</button>
          <button id="filter-recent" class="btn small">Ordenar por mÃ¡s reciente</button>
        </div>

        <div id="backlog-container"></div>
      </details>
    </section>

    <section id="section-insights" style="display:none;">
      <h2>AnÃ¡lisis</h2>
      <div id="insights-container"></div>
      <div class="row" style="margin-top:10px;">
        <button id="btn-export" class="btn btn-primary">Exportar JSON</button>
        <input type="file" id="input-import" accept=".json" style="display:none;">
        <button id="btn-import" class="btn">Importar JSON</button>
      </div>
    </section>

    <aside id="knot-detail" style="display:none;"></aside>
  </main>

  <div id="modal-overlay" class="modal-overlay" style="display:none;">
    <div id="modal-content" class="modal-content"></div>
  </div>

  <script src="utils.js"></script>
  <script src="store.js"></script>
  <script src="rules.js"></script>
  <script src="ui.js"></script>
  <script src="app.js"></script>
</body>
</html>
